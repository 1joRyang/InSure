<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="/InsWebApp/css/sidebar.css" type="text/css"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head>
        <w2:type>COMPONENT</w2:type>
        <w2:buildDate/>
        <w2:MSA/>
        <xf:model>
            <w2:dataCollection baseNode="map"/>
            <w2:workflowCollection/>
        </xf:model>
        <w2:layoutInfo/>
        <w2:publicInfo method=""/>
        <script lazy="false" type="text/javascript"><![CDATA[
scwin.onpageload = function() {
    let now = localStorage.getItem("nowSelect");
    scwin.role = JSON.parse(localStorage.getItem("employee")).role;
    // localStorage.removeItem("claimImg");
    if (now == "dash") {
        scwin.dashboard_onclick();
    } else if (now == "searchClaim") {
        scwin.search_claimNum_onclick();
    } else if (now == "searchPerson") {
        scwin.search_personNum_onclick();
    } else if (now == "goAssign" && scwin.role === "관리자") {
        scwin.go_assignRule_onclick();
    } else { 
        scwin.my_claim_onclick();
    }

    if (scwin.role === "실무자") {
        grp_manager.hide();
    }
};

function removeSClass() {
    const elements = document.getElementsByClassName("selected");
    for (let i = 0; i < elements.length; i++) {
        elements[i].classList.remove("selected");
    }
}

function movePage(link, now) {
    parent.WebSquare.util.getComponentById("web_container").setSrc(link);
    console.log("link", link)
    localStorage.setItem("nowSelect", now);
}

scwin.dashboard_onclick = function () {
    removeSClass();
    dashboard.addClass("selected");
    movePage("/InsWebApp/ui/web/dashBoard/dashBoard7.xml", "dash");
};

scwin.my_claim_onclick = function () {
    removeSClass();
    my_claim.addClass("selected");
    
    if (scwin.role === "실무자") {
        movePage("/InsWebApp/ui/web/claim/my-claims.xml", "myClaim");
    } else {
        movePage("/InsWebApp/ui/web/claim/my-approval.xml", "myClaim");
    }
};

scwin.search_claimNum_onclick = function () {
    removeSClass();
    search_claimNum.addClass("selected");
    movePage("/InsWebApp/ui/web/searchClaim/claimListSearch.xml", "searchClaim");

};

scwin.search_personNum_onclick = function () {
    removeSClass();
    search_personNum.addClass("selected");
    movePage("/InsWebApp/ui/web/searchRrn/SearchRrn.xml", "searchPerson");
};

scwin.go_assignRule_onclick = function () {
    removeSClass();
    go_assignRule.addClass("selected");
    movePage("/InsWebApp/ui/web/assign/assignment.xml", "goAssign");
};

scwin.img_logo_onclick = function (e) {
    localStorage.setItem("nowSelect", "myClaim");
    location.href="/InsWebApp/websquare/websquare.html?w2xPath=/InsWebApp/ui/web/webWrapper.xml"
};


]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload" style="display: flex;flex-direction: row;">
    	<xf:group class="sub_contents" id="menuContainer" meta_snippetCategory="00_화면시작" meta_snippetKeyComponent="true"
    		meta_snippetName="0_01 페이지시작"
    		style="height: 100%;background-color: white;display: flex;flex-direction:column;width: 200px;border-right: 1px solid #D9D9D9;">
    		<xf:group style="" id=""></xf:group>
    		<xf:group style="gap: 20px;display: flex;flex-direction: column;" id="">
    			<xf:group style="width:200px;gap: 5px;display: flex;flex-direction: column;" id="">
    				<w2:textbox style="width: 150px;height: 23px;color: #707070;" id="" label="보험 심사"></w2:textbox>
    				<w2:anchor outerDiv="false" ev:onclick="scwin.my_claim_onclick" style="width: 100%;height: 23px;padding: 10px;"
    					id="my_claim" class="menu-item">
    					<xf:label><![CDATA[담당 청구 내역]]></xf:label>
    				</w2:anchor>
    			</xf:group>
    			<xf:group style="width:200px;gap: 5px;display: flex;flex-direction: column;" id="">
    				<w2:textbox style="width: 150px;height: 23px;color: #707070;" id="" label="조회"></w2:textbox>
    				<w2:anchor outerDiv="false" ev:onclick="scwin.search_claimNum_onclick" style="width: 100%;height: 23px;padding: 10px;"
    					id="search_claimNum" class="menu-item">
    					<xf:label><![CDATA[청구번호 조회]]></xf:label>
    				</w2:anchor>
    				<w2:anchor outerDiv="false" ev:onclick="scwin.search_personNum_onclick" style="width: 100%;height: 23px;padding: 10px;"
    					id="search_personNum" class="menu-item">
    					<xf:label><![CDATA[주민번호 조회]]></xf:label>
    				</w2:anchor>
    			</xf:group>
    			<xf:group style="width:200px;gap: 5px;display: flex;flex-direction: column;" id="">
    				<w2:textbox style="width: 150px;height: 23px;color: #707070;" id="" label="대시보드"></w2:textbox>
    				<w2:anchor outerDiv="false" ev:onclick="scwin.dashboard_onclick" style="width: 100%;height: 23px;padding: 10px;"
    					id="dashboard" class="menu-item">
    					<xf:label><![CDATA[대시보드]]></xf:label>
    				</w2:anchor>
    			</xf:group>
    			<xf:group style="width:200px;gap: 5px;display: flex;flex-direction: column;" id="grp_manager">
    				<w2:textbox style="width: 150px;height: 23px;color: #707070;" id="" label="관리자"></w2:textbox>
    				<w2:anchor outerDiv="false" ev:onclick="scwin.go_assignRule_onclick" style="width: 100%;height: 23px;padding: 10px;"
    					id="go_assignRule" class="menu-item">
    					<xf:label><![CDATA[자동배정 규칙]]></xf:label>
    				</w2:anchor>
    			</xf:group>
    		</xf:group>
    	</xf:group>
    </body>
</html>
