<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="/InsWebApp/css/sidebar.css" type="text/css"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head>
        <w2:type>COMPONENT</w2:type>
        <w2:buildDate/>
        <w2:MSA/>
        <xf:model>
            <w2:dataCollection baseNode="map"/>
            <w2:workflowCollection/>
        </xf:model>
        <w2:layoutInfo/>
        <w2:publicInfo method=""/>
        <script lazy="false" type="text/javascript"><![CDATA[
scwin.onpageload = function() {
    let now = localStorage.getItem("nowSelect");
    scwin.role = JSON.parse(localStorage.getItem("employee")).role;
    // localStorage.removeItem("claimImg");
    if (now == "dash") {
        scwin.dashboard_onclick();
    } else if (now == "searchClaim") {
        scwin.search_claimNum_onclick();
    } else if (now == "searchPerson") {
        scwin.search_personNum_onclick();
    } else if (now == "goAssign" && scwin.role === "관리자") {
        scwin.go_assignRule_onclick();
    } else { 
        scwin.my_claim_onclick();
    }

    if (scwin.role === "실무자") {
        go_assignRule.hide();
    }
};

function removeSClass() {
    const elements = document.getElementsByClassName("selected");
    for (let i = 0; i < elements.length; i++) {
        elements[i].classList.remove("selected");
    }
}

function movePage(link, now) {
    parent.WebSquare.util.getComponentById("web_container").setSrc(link);
    localStorage.setItem("nowSelect", now);
}

scwin.dashboard_onclick = function () {
    removeSClass();
    dashboard.addClass("selected");
    movePage("/InsWebApp/ui/dashBoard/dashBoard7.xml", "dash");
};

scwin.my_claim_onclick = function () {
    removeSClass();
    my_claim.addClass("selected");
    
    if (scwin.role === "실무자") {
        movePage("/InsWebApp/ui/claim/my-claims.xml", "myClaim");
    } else {
        movePage("/InsWebApp/ui/approval/my-approval.xml", "myClaim");
    }
};

scwin.search_claimNum_onclick = function () {
    removeSClass();
    search_claimNum.addClass("selected");
    movePage("/InsWebApp/ui/Assignment/claimListSearch.xml", "searchClaim");

};

scwin.search_personNum_onclick = function () {
    removeSClass();
    search_personNum.addClass("selected");
    movePage("/InsWebApp/ui/employee/SearchRrn.xml", "searchPerson");
};

scwin.go_assignRule_onclick = function () {
    removeSClass();
    go_assignRule.addClass("selected");
    movePage("/InsWebApp/ui/Assignment/assignment.xml", "goAssign");
};
]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload">
    	<xf:group class="sub_contents" id="menuContainer" meta_snippetCategory="00_화면시작" meta_snippetKeyComponent="true"
    		meta_snippetName="0_01 페이지시작"
    		style="height: 100%;background-color: white;display: flex;flex-direction:column;width: 230px;border-right: 1px solid #D9D9D9;">
    		<w2:anchor outerDiv="false" id="my_claim" style="width: 100%;height: 23px;padding: 10px;" class="menu-item"
    			ev:onclick="scwin.my_claim_onclick">
    			<xf:label><![CDATA[담당 청구 내역]]></xf:label>
    		</w2:anchor>
    		<w2:anchor outerDiv="false" id="search_claimNum" style="width: 100%;height: 23px;padding: 10px;" class="menu-item"
    			ev:onclick="scwin.search_claimNum_onclick">
    			<xf:label><![CDATA[청구번호 조회]]></xf:label>
    		</w2:anchor>
    		<w2:anchor outerDiv="false" id="search_personNum" style="width: 100%;height: 23px;padding: 10px;" class="menu-item"
    			ev:onclick="scwin.search_personNum_onclick">
    			<xf:label><![CDATA[주민번호 조회]]></xf:label>
    		</w2:anchor>
    		<w2:anchor outerDiv="false" ev:onclick="scwin.dashboard_onclick" style="width: 100%;height: 23px;padding: 10px;" id="dashboard"
    			class="menu-item">
    			<xf:label><![CDATA[대시보드]]></xf:label>
    		</w2:anchor>
    		<w2:anchor class="menu-item" id="go_assignRule" outerDiv="false" style="width: 100%;height: 23px;padding: 10px;"
    			ev:onclick="scwin.go_assignRule_onclick">
    			<xf:label><![CDATA[자동배정 규칙]]></xf:label>
    		</w2:anchor>
    	</xf:group>
    </body>
</html>
